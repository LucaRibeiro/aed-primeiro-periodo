\documentclass[12pt]{article}

\usepackage{sbc-template}
\usepackage{graphicx}
\usepackage[utf8]{inputenc}  
\usepackage{listings}
\usepackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{style}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=style}
     
\sloppy

\title{Guia 2 - Sistemas de Numeração e Resentações de Dados}

\author{Luca Ribeiro Schettino Regne}


\address{Instituto de Ciências Exatas e Informática - ICEI - (PUC-MG)}

\begin{document} 

\maketitle

\section{Exercício}
\subsection{Fazer as conversões de decimal para binário:}
a) $27_{10}  = 0000011011_{2}$\\
b) $51_{10}  = 0000110011_{2}$\\
c) $713_{10} = 1011001001_{2}$\\
d) $312_{10} = 0100111000_{2}$\\
e) $360_{10} = 0101101000_{2}$\\

\subsection{Escrever uma função dec2bin(x)}
Esta função recebe um número inteiro decimal e devolve o binário correspondente. 
Faça um programa main que passa para a função os números decimais dos itens de 
"a" até "e" e que imprima os binários correspondentes na tela. Mostre o código 
e os resultados exibidos na tela, no relatório.

\begin{lstlisting}[language=C]
void dec2bin(int n){
   for(int i = 31; i >= 0; i--){
     if((n & (1 << i)) != 0){
       printf("1");
     }else{
       printf("0");
     } 
   }
   printf("\n");
}
\end{lstlisting}

\subsection{Fazer as conversões de binário para decimal:}
a) $10101_{2} = 21_{10}$\\
b) $11010_{2} = 26_{10}$\\
c) $101001_{2} = 41_{10}$\\
d) $111001_{2} = 57_{10}$\\
e) $100011_{2} = 35_{10}$\\

\subsection{Escrever uma função bin2dec(x)}
Esta função recebe um número binário e devolve o decimal correspondente. Faça um 
programa main que passa para a função os números binários dos itens de "a" até "e" 
e que imprima os binários correspondentes natela. Mostre o código e os resultados 
exibidos na tela, no relatório.

\begin{lstlisting}[language=C]
void bin2dec(int n){
    int num = n;
    int dec = 0;

    int base = 1;

    int temp = num;
    
    while (temp) {
        int last_digit = temp % 10;
        temp = temp / 10;
        dec += last_digit * base;
        base = base * 2;
    }
    printf("%d\n", dec);
}
\end{lstlisting}

\subsection{Fazer as conversões de decimal para hexadecimal:}
a) $73_{10}= 49_{16}$\\
b) $47_{10}= 2F_{16}$\\
c) $61_{10}= 3D_{16}$\\
d) $157_{10}= 9D_{16}$\\
e) $171_{10}= AB_{16}$\\

\subsection{Escrever uma função dec2hex(x)}
Esta função recebe um número inteiro decimal e devolve o hexadecimal correspondente. Faça um 
programa main que passa para afunção os números decimais dos itens de "a" até "e" e que imprima 
os hexadecimais correspondentes na tela. Mostre o código e os resultados exibidos na tela, 
no relatório.

\begin{lstlisting}[language=C]
int dec2hex(long dec){
    long quotient, tmp;
    int i, j = 0;

    char hex[100];

    quotient = dec;

    while (quotient != 0){
        tmp = quotient % 16;
        if (tmp < 10)
            hex[j++] = 48 + tmp;
        else
            hex[j++] = 55 + tmp;
        quotient = quotient / 16;
    }
    
    printf("%s\n", hex);
}
\end{lstlisting}

\subsection{Fazer as conversões de hexadecimal para decimal:}
a) $73_{16} = 115_{10}$\\
b) $ABC_{16} = 2748_{10}$\\
c) $100_{16} = 256_{10}$\\
d) $9A8_{16} = 2472_{10}$\\
e) $1000_{16} = 4096_{10}$\\

\subsection{Escrever uma função hex2dec(x).}
Esta função recebe um número hexadecimal e devolve o decimal correspondente. Faça um 
programa main que passa para a função os números hexadecimais dos itens de "a" até "e" 
e que imprima os decimaiscorrespondentes na tela. Mostre o código e os resultados 
exibidos na tela, no relatório.

\begin{lstlisting}[language=C]
void hex2dec(char *hex){
    long long decimal = 0, base = 1;
    int value, length = strlen(hex);

    for(int i = length--; i >= 0; i--)
    {
        if(hex[i] >= '0' && hex[i] <= '9')
        {
            decimal += (hex[i] - 48) * base;
            base *= 16;
        }
        else if(hex[i] >= 'A' && hex[i] <= 'F')
        {
            decimal += (hex[i] - 55) * base;
            base *= 16;
        }
        else if(hex[i] >= 'a' && hex[i] <= 'f')
        {
            decimal += (hex[i] - 87) * base;
            base *= 16;
        }
    }
    printf("%lld\n", decimal);
}

\end{lstlisting}

\subsection{Converter entre símbolos e códigos de representação alfanumérico (ASCII). Sugestão: veja a codificação da tabela ASCII acima.}
a) $"PUC-Minas" = 50 55 43 2d 4d 69 6e 61 73_{16_ASCII}$\\
b) $"2021-1" = 32 30 32 31 2d 31_{16_ASCII}$\\
c) $"Brasil" = 42 72 61 73 69 6c_{16_ASCII}$\\
d) $124 101 122 104 105_{16} = A!_{ASCII}$\\
e) $62 2E 68 2E 2D 6D 67_{16} = b.h.-mg_{ASCII}$\\

\subsection{Escrever a função ASCII2hex(x).}
Esta função recebe um texto ASCII e devolve oscaracteres hexadecimais correspondentes.
Escrever a função hex2ASCII(xx). Esta função recebem caracteres hexadecimais e devolve 
o texto ASCII correspondentes.Faça um programa main que teste as funções acima. Mostre 
o código e os resultadosexibidos na tela, no relatório
\begin{lstlisting}
void ASCII2hex(char* ascii){        
    char *hex = malloc(((sizeof ascii) * 2) + 1);
    int l = strlen(ascii);
    
    for(i = 0; i < len; i++){
        sprintf(hex+i*2, "%02X", ascii[i]);
    }
    printf("%s\n", hex);
}
\end{lstlisting}

\end{document}
